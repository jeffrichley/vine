# Shorts Video Creation with Vine Framework

This directory contains examples demonstrating how to use the Vine framework to create shorts videos from AI-generated assets.

## Overview

The examples use assets generated by an AI system and stored in the `tmp/` directory. The assets include:
- Voice clips (narrated script segments)
- Images (AI-generated visuals)
- Background music
- Sound effects

## Files Generated

### 1. `create_shorts_video.py`
A comprehensive example that creates a full shorts video with:
- Background music
- Voice narration synchronized with images
- Sound effects for each segment
- Ken Burns effects on images
- Fade in/out transitions

**Output:** `output/inspirational_shorts.mp4` (specification only, rendering needs MoviePy fix)

### 2. `simple_shorts_video.py`
A simplified version without complex animations that:
- Processes all voice clips and images
- Adds background music
- Includes sound effects
- Provides detailed logging of the process

**Output:** `output/simple_inspirational_shorts.mp4` (specification only)

### 3. `vine_framework_demo.py`
A comprehensive demonstration of Vine framework capabilities:

#### Demo 1: Sequential Mode
- Auto-appends elements to tracks
- Uses default duration setting
- Shows fluent API usage

#### Demo 2: Explicit Timing Mode
- Precise control over timing
- Background music mixing
- Explicit segment timing

#### Demo 3: Video Effects
- Ken Burns effects
- Slide transitions
- Static effects
- Different animation configurations

#### Demo 4: Audio Mixing
- Multiple audio tracks
- Volume control
- Sound effects integration
- Background music

### 4. `google_style_api_demo.py` ⭐ NEW
A demonstration of the Google-style API behavior for timing modes:

#### Key Concepts
- **Sequential methods** (`add_image()`, `add_text()`, etc.) UPDATE current times
- **Explicit methods** (`add_image_at()`, `add_text_at()`, etc.) do NOT update current times
- **Mixed mode** combines both approaches for maximum flexibility

#### Demonstrations
- Pure sequential workflow
- Pure explicit workflow
- Mixed mode workflow (most powerful)
- API consistency across all track types
- Why this behavior matters for real-world usage

## Asset Structure

The `tmp/` directory contains:

```
tmp/
├── test_output.json          # Main configuration file
├── chrona_voice/            # Voice narration clips
│   ├── 02f648b058c1485589f92177d82caf95.wav
│   ├── 90ac3767c10048e6bfcc59aef38b9dc5.wav
│   └── ...
├── images/                  # AI-generated images
│   ├── fb34586ed041467fad76362573273855.png
│   ├── dde12e61c6bc40eb82d3210d40635c7a.png
│   └── ...
├── music/                   # Background music
│   └── music_1df9fa775fbb48709efea267d9bf7956.wav
└── sfx/                     # Sound effects
    ├── sfx_659d621622fa413ebe2ce257d98e1d34.wav
    ├── sfx_0c897f8f1c864606a0bdc5981f3229b6.wav
    └── ...
```

## Video Specification

The Vine framework generates JSON specifications that contain:
- Video dimensions (1080x1920 for shorts)
- Track information (video, audio, text)
- Clip timing and positioning
- Effects and animations
- Audio mixing settings

Example specification structure:
```json
{
  "width": 1080,
  "height": 1920,
  "fps": 30,
  "video_tracks": [...],
  "audio_tracks": [...],
  "text_tracks": [...],
  "transitions": [...]
}
```

## Usage

### Running the Examples

```bash
# Create a full shorts video
python examples/create_shorts_video.py

# Create a simple version
python examples/simple_shorts_video.py

# Run comprehensive demos
python examples/vine_framework_demo.py
```

### Output Files

All examples generate:
- Video specifications in JSON format
- Detailed logging of the process
- Track and clip counts
- Duration information

## Vine Framework Features Demonstrated

### Timeline Builder API
- **Sequential Mode**: Auto-appending elements with `add_voice()`, `add_image()`
- **Explicit Mode**: Precise timing with `add_voice_at()`, `add_image_at()`
- **Duration Control**: `set_duration()`, `clear_duration()`
- **Track Management**: Automatic track creation and management

### Video Effects
- **Ken Burns**: Zoom and pan effects
- **Slide Transitions**: Directional sliding
- **Static**: No animation
- **Fade Transitions**: Smooth fade in/out

### Audio Mixing
- **Multiple Tracks**: Separate tracks for voice, music, SFX
- **Volume Control**: Individual clip volume settings
- **Timing**: Precise audio synchronization
- **Background Music**: Lower volume background tracks

### Track Management
- **Auto-detection**: Automatic track type detection
- **Overlap Handling**: Smart track creation for overlapping clips
- **Z-order**: Rendering order control
- **Visibility**: Track visibility settings

## Current Status

✅ **Working:**
- Video specification generation
- Track management
- Timing calculations
- Effect configurations
- Audio mixing setup

⚠️ **Needs Implementation:**
- MoviePy rendering pipeline
- Volume control in audio clips
- Actual video file generation

## Next Steps

To complete the video rendering:

1. **Fix MoviePy Integration**: Update the rendering pipeline to handle volume controls properly
2. **Implement Video Renderer**: Complete the `VideoRenderer` class
3. **Audio Processing**: Fix audio clip volume handling
4. **Effect Rendering**: Implement effect application in MoviePy

The specifications generated are complete and ready for rendering once the MoviePy integration is fixed.

## Framework Benefits

The Vine framework provides:
- **Type Safety**: Pydantic models with validation
- **Fluent API**: Method chaining for easy composition
- **Flexible Timing**: Both sequential and explicit timing modes
- **Extensible Effects**: Registry-based effect system
- **Track-based Architecture**: Professional video editing workflow
- **AI Integration**: JSON/YAML input for AI agent consumption
